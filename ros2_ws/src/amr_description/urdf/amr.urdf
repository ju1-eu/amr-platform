<?xml version="1.0"?>
<!--
  AMR Robot Description
  
  TF-Baum:
    odom -> base_footprint -> base_link -> laser
  
  Frames:
    - base_footprint: Projektion auf Boden (z=0)
    - base_link: Chassis-Mitte
    - laser: RPLidar A1 Scan-Ursprung
  
  Gemessene Werte (2025-12-21):
    - Raddurchmesser: 6,5 cm
    - Boden bis Lidar-Scan-Ebene: 18 cm
    - Lidar sitzt mittig ueber der Hinterachse
-->
<robot name="amr">

  <!-- ==================== LINKS ==================== -->

  <!-- base_footprint: Projektion auf Boden -->
  <link name="base_footprint"/>

  <!-- base_link: Chassis -->
  <link name="base_link">
    <visual>
      <geometry>
        <box size="0.20 0.18 0.04"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <material name="chassis_blue">
        <color rgba="0.2 0.2 0.8 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <box size="0.20 0.18 0.04"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
    </collision>
  </link>

  <!-- laser: RPLidar A1 -->
  <link name="laser">
    <visual>
      <geometry>
        <cylinder radius="0.035" length="0.04"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <material name="lidar_black">
        <color rgba="0.1 0.1 0.1 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <cylinder radius="0.035" length="0.04"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
    </collision>
  </link>

  <!-- ==================== JOINTS ==================== -->

  <!-- 
    Joint: base_footprint -> base_link
    z = 0.05m (5cm): Rad-Radius (3,25cm) + halbe Chassis-Dicke
  -->
  <joint name="base_footprint_to_base_link" type="fixed">
    <parent link="base_footprint"/>
    <child link="base_link"/>
    <origin xyz="0 0 0.05" rpy="0 0 0"/>
  </joint>

  <!-- 
    Joint: base_link -> laser
    x = -0.07m (7cm hinten): Lidar ueber Hinterachse
    y = 0m: Lidar mittig
    z = 0.13m (13cm): 18cm (Scan-Hoehe) - 5cm (base_link) = 13cm
  -->
  <joint name="base_link_to_laser" type="fixed">
    <parent link="base_link"/>
    <child link="laser"/>
    <origin xyz="-0.07 0 0.13" rpy="0 0 0"/>
  </joint>

</robot>
